# testesApiPets (Petstore API) — Testes Automatizados | Automated Tests

Projeto de testes automatizados para a **Swagger Petstore API v2**, utilizando **Java 17**, **Maven**, **Cucumber (BDD)**, **RestAssured** e **Allure Report**.  
Automated test project for **Swagger Petstore API v2**, using **Java 17**, **Maven**, **Cucumber (BDD)**, **RestAssured** and **Allure Report**.

---

## Português (PT-BR)

## Tecnologias
- Java 17
- Maven
- Cucumber JVM + JUnit 4
- RestAssured
- SnakeYAML (leitura de configuração)
- Allure Report

## Estrutura do projeto
- `src/test/resources/features/`
  - Features do Cucumber (cenários BDD)
  - Ex.: `features/pets/CT001_find_pets_by_tags.feature`
- `src/test/java/io/swagger/petstore/runner/`
  - Runner do Cucumber (`RunTest`)
- `src/test/java/io/swagger/petstore/stepdefs/`
  - Step definitions (ex.: `pets/PetSteps.java`)
  - Hooks (ex.: `hooks/Hooks.java`)
- `src/test/java/io/swagger/petstore/support/`
  - Configuração e loader (ex.: `Config.java`, `ConfigLoader.java`)
- `src/test/resources/config.yaml`
  - Base URL e endpoints da API
- `target/allure-results/`
  - Resultados gerados para o Allure (após rodar os testes)
- `target/site/allure-maven-plugin/`
  - Report gerado pelo plugin do Allure

## Configuração (config.yaml)
Arquivo: `src/test/resources/config.yaml`

Exemplo:
```yaml
baseUrl: "https://petstore.swagger.io/v2"

endpoints:
  createPet: "/pet"
  petById: "/pet/{petId}"
```

## Como executar os testes

### Executar todos os testes
```bash
mvn clean test
```

### Executar por tags (Cucumber)
As tags podem ser ajustadas no `RunTest.java` pelo atributo `tags`.

## Allure Report

### Gerar resultados e abrir o report no navegador
1) Execute os testes:
```bash
mvn clean test
```

2) Abra o report:
```bash
mvn allure:serve
```

> O Allure usa os arquivos gerados em `target/allure-results`.

### Gerar report estático (HTML)
```bash
mvn allure:report
```

Abra:
- `target/site/allure-maven-plugin/index.html`

## Observações
- A Swagger Petstore pública pode apresentar instabilidade/intermitência.
- Se você utilizar um ID fixo (ex.: `2101`), o recurso pode já existir e o teste pode sobrescrever dados.

---

## English (EN)

## Tech stack
- Java 17
- Maven
- Cucumber JVM + JUnit 4
- RestAssured
- SnakeYAML (config loader)
- Allure Report

## Project structure
- `src/test/resources/features/`
  - Cucumber feature files (BDD scenarios)
  - Example: `features/pets/CT001_find_pets_by_tags.feature`
- `src/test/java/io/swagger/petstore/runner/`
  - Cucumber runner (`RunTest`)
- `src/test/java/io/swagger/petstore/stepdefs/`
  - Step definitions (e.g., `pets/PetSteps.java`)
  - Hooks (e.g., `hooks/Hooks.java`)
- `src/test/java/io/swagger/petstore/support/`
  - Configuration + loader (e.g., `Config.java`, `ConfigLoader.java`)
- `src/test/resources/config.yaml`
  - API base URL and endpoints
- `target/allure-results/`
  - Allure raw results (generated after test execution)
- `target/site/allure-maven-plugin/`
  - HTML report generated by the Allure Maven plugin

## Configuration (config.yaml)
File: `src/test/resources/config.yaml`

Example:
```yaml
baseUrl: "https://petstore.swagger.io/v2"

endpoints:
  createPet: "/pet"
  petById: "/pet/{petId}"
```

## How to run tests

### Run all tests
```bash
mvn clean test
```

### Run by tags (Cucumber)
Tags can be configured in `RunTest.java` using the `tags` option.

## Allure Report

### Generate results and open the report in a browser
1) Run tests:
```bash
mvn clean test
```

2) Serve the report:
```bash
mvn allure:serve
```

> Allure reads results from `target/allure-results`.

### Generate a static HTML report
```bash
mvn allure:report
```

Open:
- `target/site/allure-maven-plugin/index.html`

## Notes
- The public Swagger Petstore environment can be unstable/intermittent.
- If you use a fixed ID (e.g., `2101`), the resource may already exist and test runs may overwrite data.
